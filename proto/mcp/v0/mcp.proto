syntax = "proto3";
package mcp.v0;

import "buf/validate/validate.proto";

option go_package = "mcp-server/mcp/v0";

service McpService {
  rpc ListTools (ListToolsRequest) returns (ListToolsResponse);
}

message ListToolsRequest {
  string cursor = 1 [(buf.validate.field).string = {max_len: 1024}];
  int32  page_size = 2;
}

message ListToolsResponse {
  repeated Tool tools = 1;
  string next_cursor = 2;
}

message Tool {
  string name = 1 [(buf.validate.field).string = {min_len: 1}];
  string title = 2 [(buf.validate.field).string = {min_len: 1}];
  string description = 3;
  string grpc_service = 4;
  string grpc_method  = 5;
  map<string,string> annotations = 6; // e.g., {"idempotent":"true"}
}
